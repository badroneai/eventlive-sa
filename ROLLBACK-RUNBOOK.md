# ROLLBACK-RUNBOOK.md

## الهدف
استعادة نسخة مستقرة بسرعة عند فشل الإطلاق أو ظهور خلل إنتاجي.

## سيناريوهات التفعيل
- ارتفاع أخطاء validation بشكل مفاجئ
- خلل واجهة يمنع الاستخدام على الجوال
- Build/deploy ناجح لكن سلوك الإنتاج غير مطابق للتوقع

## خطوات التنفيذ (Quick Rollback)
1. تحديد آخر commit مستقر:
   - `git log --oneline -n 10`
2. إنشاء فرع طوارئ:
   - `git checkout -b rollback/<date-time>`
3. الرجوع للنسخة المستقرة:
   - `git revert <bad_commit>` (أو revert متسلسل)
4. إعادة التحقق:
   - `npm run validate:gate`
   - `npm run build`
5. نشر نسخة الاسترجاع:
   - push للفرع المعتمد للإنتاج/النشر
6. التحقق بعد الاسترجاع:
   - الصفحة تعمل
   - التقارير تولّدت بدون أخطاء

## تحقق ما بعد الاسترجاع
- [ ] `reports/validation-report.md` بدون أخطاء
- [ ] `dist/index.html` يعرض البيانات المتوقعة
- [ ] عدم وجود regression واضح في mobile UX

## خطة اتصال
- إشعار غرفة العمليات بسبب الاسترجاع
- توثيق السبب الجذري + زمن الإصلاح المتوقع

## ملاحظات
- لا تستخدم reset force على main في حالة طوارئ تشغيلية.
- الأفضل revert قابل للتتبع والتدقيق.
