# Factory Cycle Report — 2026-02-25 12:33 (+03)

## Status
- Cycle focus: **Release safety + maintainability (extract verdict logic into reusable script)**
- Result: ✅ Completed
- Critical incident: None

## Actions
1. Added dedicated verdict script: `scripts/release-safety-verdict.mjs`.
   - Inputs (env): `UPTIME_OUTCOME`, `STABILITY_OUTCOME`, `SLO_OUTCOME`, `SLO_ENFORCEMENT_STATE`.
   - Outputs (`GITHUB_OUTPUT`):
     - `verdict` (`PASS` / `ATTENTION` / `HOLD`)
     - `verdict_reason` (human-readable reason)
   - Policy behavior:
     - `HOLD` on uptime/stability failure.
     - `HOLD` on active SLO gate failure.
     - `ATTENTION` when SLO is in warm-up (`INACTIVE`) or unavailable (`n/a`).
     - `PASS` when all active checks pass.
2. Added npm command in `package.json`:
   - `release:verdict` → `node scripts/release-safety-verdict.mjs`
3. Updated `.github/workflows/deploy.yml`:
   - Added new step `Compute release safety verdict` (id: `release_verdict`).
   - Replaced inline shell verdict block in scorecard step with structured outputs from the script.
4. Verification performed:
   - `npm run test:validation` ✅
   - `npm run test:csv` ✅
   - `npm run release:verdict` ✅ (sample run produced `ATTENTION` for warm-up mode)

## Risks
- ✅ Reduced workflow complexity and policy drift risk by centralizing verdict logic.
- ✅ Improved testability for release decision logic outside YAML.
- ⚠️ Remaining risk: verdict script currently has no dedicated automated regression test file; behavior is validated via manual invocation and CI execution.

## Next Step
- Add `scripts/release-verdict-regression-test.mjs` with core scenarios (PASS / ATTENTION / HOLD) and integrate it into CI to lock release decision behavior.
